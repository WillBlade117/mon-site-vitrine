---
const links = [
  { name: "Services", href: "/#services" },
  { name: "Réalisations", href: "/#portfolio" },
  { name: "À Propos", href: "/a-propos" },
];
---

<header class="fixed top-0 left-0 right-0 z-50 bg-artisan-bg/90 backdrop-blur-md border-b border-artisan-text/5 transition-all duration-300">
  <div class="mx-auto max-w-7xl px-6 h-20 flex items-center justify-between">
    
    <a href="/" class="z-50 font-serif text-2xl font-black tracking-tight text-artisan-text hover:opacity-80 transition-opacity">
      William SART<span class="text-artisan-accent">.</span>
    </a>

    <nav class="hidden md:flex items-center gap-8">
      {links.map((link) => (
        <a 
          href={link.href} 
          class="text-sm font-medium text-artisan-muted hover:text-artisan-accent transition-colors font-sans"
        >
          {link.name}
        </a>
      ))}
      
      <a 
        href="/#contact" 
        class="rounded-lg bg-artisan-text px-5 py-2.5 text-sm font-semibold text-white hover:bg-artisan-accent transition-colors"
      >
        Me contacter
      </a>
    </nav>

    <button id="menu-btn" class="md:hidden z-50 p-2 text-artisan-text focus:outline-none" aria-label="Menu">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 menu-icon-open">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
      </svg>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 menu-icon-close hidden">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </div>

  <div id="mobile-menu" class="fixed inset-0 bg-artisan-bg z-40 flex flex-col items-center justify-center gap-8 opacity-0 pointer-events-none transition-all duration-300 md:hidden">
    {links.map((link) => (
      <a 
        href={link.href} 
        class="text-2xl font-serif font-bold text-artisan-text hover:text-artisan-accent"
        onclick="toggleMenu()"
      >
        {link.name}
      </a>
    ))}
    <a 
      href="/#contact" 
      class="mt-4 rounded-lg bg-artisan-accent px-8 py-4 text-lg font-bold text-white"
      onclick="toggleMenu()"
    >
      Démarrer un projet
    </a>
  </div>
</header>

<script is:inline>
  const menuBtn = document.getElementById('menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  const iconOpen = document.querySelector('.menu-icon-open');
  const iconClose = document.querySelector('.menu-icon-close');
  let isMenuOpen = false;

  function toggleMenu() {
    isMenuOpen = !isMenuOpen;
    
    // Toggle visibilité menu
    if (isMenuOpen) {
      mobileMenu.classList.remove('opacity-0', 'pointer-events-none');
      iconOpen.classList.add('hidden');
      iconClose.classList.remove('hidden');
      document.body.style.overflow = 'hidden'; // Empêche le scroll
    } else {
      mobileMenu.classList.add('opacity-0', 'pointer-events-none');
      iconOpen.classList.remove('hidden');
      iconClose.classList.add('hidden');
      document.body.style.overflow = ''; // Réactive le scroll
    }
  }

  // Permettre l'appel de la fonction depuis les liens HTML
  window.toggleMenu = toggleMenu;
  menuBtn.addEventListener('click', toggleMenu);
</script>