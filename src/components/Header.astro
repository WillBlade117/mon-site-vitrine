---
const links = [
  { name: "Services", href: "/#services" },
  { name: "Réalisations", href: "/#portfolio" },
  { name: "À Propos", href: "/a-propos" },
];
---

<header class="fixed top-0 left-0 right-0 z-50 h-20">
  
  <div class="relative z-50 w-full h-full bg-[#FDFBF7] border-b border-artisan-text/5 px-6 flex items-center justify-between">
    
    <a href="/" class="font-serif text-2xl font-black tracking-tight text-artisan-text hover:opacity-80 transition-opacity">
      William SART<span class="text-artisan-accent">.</span>
    </a>

    <nav class="hidden md:flex items-center gap-8">
      {links.map((link) => (
        <a 
          href={link.href} 
          class="text-sm font-medium text-artisan-muted hover:text-artisan-accent transition-colors font-sans"
        >
          {link.name}
        </a>
      ))}
      <a 
        href="/#contact" 
        class="rounded-lg bg-artisan-text px-5 py-2.5 text-sm font-semibold text-white hover:bg-artisan-accent transition-colors"
      >
        Me contacter
      </a>
    </nav>

    <button id="menu-btn" class="md:hidden p-2 focus:outline-none group" aria-label="Menu">
      <div class="w-8 h-6 flex flex-col justify-between relative">
        <span id="bar1" class="w-full h-0.5 bg-artisan-text rounded-full transition-all duration-300 origin-center"></span>
        <span id="bar2" class="w-full h-0.5 bg-artisan-text rounded-full transition-all duration-300"></span>
        <span id="bar3" class="w-full h-0.5 bg-artisan-text rounded-full transition-all duration-300 origin-center"></span>
      </div>
    </button>
  </div>

  <div 
    id="mobile-menu" 
    class="fixed inset-0 z-40 bg-[#FDFBF7] w-full h-screen flex flex-col items-center justify-start pt-32 gap-8 opacity-0 pointer-events-none transition-all duration-500 md:hidden"
    style="margin-top: 0;"
  >
    <div class="flex flex-col items-center gap-10 w-full">
      {links.map((link) => (
        <a 
          href={link.href} 
          class="mobile-link text-3xl font-serif font-bold text-artisan-text hover:text-artisan-accent transition-colors relative z-50"
        >
          {link.name}
        </a>
      ))}
      <a 
        href="/#contact" 
        class="mobile-link mt-4 rounded-lg bg-artisan-accent px-8 py-4 text-lg font-bold text-white shadow-lg hover:bg-artisan-accent-hover transition-transform active:scale-95 relative z-50"
      >
        Démarrer un projet
      </a>
    </div>
  </div>

</header>

<script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const bar1 = document.getElementById('bar1');
        const bar2 = document.getElementById('bar2');
        const bar3 = document.getElementById('bar3');
        const mobileLinks = document.querySelectorAll('.mobile-link');

        let isMenuOpen = false;

        function toggleMenu() {
            isMenuOpen = !isMenuOpen;
            if (isMenuOpen) {
                mobileMenu.classList.remove('opacity-0', 'pointer-events-none');
                bar1.classList.add('rotate-45', 'translate-y-[11px]');
                bar2.classList.add('opacity-0');
                bar3.classList.add('-rotate-45', '-translate-y-[11px]');
                document.body.style.overflow = 'hidden';
            } else {
                mobileMenu.classList.add('opacity-0', 'pointer-events-none');
                bar1.classList.remove('rotate-45', 'translate-y-[11px]');
                bar2.classList.remove('opacity-0');
                bar3.classList.remove('-rotate-45', '-translate-y-[11px]');
                document.body.style.overflow = 'auto';
            }
        }

        if (menuBtn) {
            menuBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleMenu();
            });
        }

        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                if(isMenuOpen) toggleMenu();
            });
        });
    });
</script>